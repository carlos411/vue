# 2.2 export 和 import

## 範例 1：在宣告之前，加上 export，即可匯出

例：

```javascript
export let my_arr = [1, 2, 3]; // 匯出 變數

export const MyData = 2022; // 匯出 常數

export function say_hi(){ // 匯出 函式
  alert("abc");
}

export class People{ // 匯出 類別
  constructor(user){
    console.log(user);
  }
}
```



## 範例 2：將 export 與 宣告做分離

例：

```javascript
function hi(user) {
  return `Hi, ${user}!`;
}

function hello(user) {
  return `Hello, ${user}!`;
}

export {hi, hello}; // 匯出指定的函式
```



## 範例 3：使用 import \* as

可寫以下語法：

```html
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="module">
      // 將模組檔匯出的東西，全部匯入，且都放在 say 物件當中
      import * as say from "./modules/say_hi.js";

      console.log(say.hi("a"));
      console.log(say.hello("b"));
    </script>
  </body>
</html>
```



## 範例 4：import 中使用 as

例：

```html
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <script type="module">
      // hi 函式，將其函式名稱改成 hi2
      import { hi as hi2, hello } from './modules/say_hi.js';

      console.log(hi2("a"));
      console.log(hello("b"));
    </script>
  </body>
</html>

```



## 範例 5：export 中使用 as

```javascript
function hi(user) {
  return `Hi, ${user}!`;
}

function hello(user) {
  return `Hello, ${user}!`;
}

export {hi as hi2, hello as hello2}; // 將匯出的函式名稱做改變，hi 改成 hi2
```

可寫以下語法：

```html
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="module">
      import * as say from "./modules/export_test.js";

      say.hi2("a");
    </script>
  </body>
</html>
```





## 範例 7：模組再匯出

`modules/module2.js`，內容如下：

```javascript
export function hi(user){
  alert("哈囉: " + user);
}
```

`modules/module1.js`，內容如下：

```javascript
export {hi} from "./module2.js";
```

`module_test6.html`，內容如下：

```html
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <script type="module">
      import {hi} from "./modules/module1.js";
      hi("John");
    </script>
  </body>
</html>
```



## 範例 8：預設的模組再匯出

預設的模組指的是使用 **`export default`**。



延續上例的範例 7，將 `modules/module2.js` 改成：

```javascript
export default function hi(user){
  alert("哈囉: " + user);
}
```

`modules/module1.js` 改成：

```javascript
export {default as hi} from "./module2.js";
```

`module_test6.html`，內容不變，一樣可以運作。



## 範例 9

另外如果使用以下語法：

```javascript
export * from './user.js'; // 這會匯出 export, (不含 export default)
export {default} from './user.js'; // 這會匯出 export default
```



沿續上例的範例 8，將 `modules/module2.js` 改成：

```javascript
export default function hi(user){
  alert("哈囉: " + user);
}
export function bye(user){
  alert("掰: " + user);
}
```

`modules/module1.js` 改成：

```javascript
export * from "./module2.js";
export {default} from "./module2.js";
```

`module_test6.html`，內容改成如下：

```html
<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <script type="module">
      import {default as hi, bye} from "./modules/module1.js";
      
      hi("John");
      bye("John");
    </script>
  </body>
</html>

```



## 參考資料

[https://javascript.info/import-export](https://javascript.info/import-export)





